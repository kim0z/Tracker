<!DOCTYPE html>
<head>
    <!--
    <link rel="stylesheet" href="assets/css/style_realtime.css">
    -->
    <link rel="stylesheet" type="text/css" href="../../assets/css/photoslider.css">

    <style type="text/css">
        #map {
            box-shadow: 3px 3px 10px gray;
            /* make Google map -> background*/
            height: 100%;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0;
            padding: 0;
            font-size: 0; /* Remember to change it back to normal font size if have captions */
            list-style: none;
            background-color: #000;
        }

        #messages {
            z-index: 1; /* The z-index should be higher than Google Maps */
            width: 300px;
            /*margin: 60px auto 0;*/
            padding: 10px;
            background: transparent;
            height: auto;
            opacity: .99; /* Set the opacity for a slightly transparent Google Form */
            color: white;

            position: absolute; /*or fixed*/
            right: 0px;
        }

        #photos {
            z-index: 1; /* The z-index should be higher than Google Maps */
            width: 900px;
            /*margin: 60px auto 0;*/
            padding: 10px;
            background: transparent;
            height: auto;
            opacity: .99; /* Set the opacity for a slightly transparent Google Form */
            color: white;

            position: absolute; /*or fixed*/
            right: 50%;
        }

        .center {
            margin: auto;
            width: 50%;
            border: 3px solid green;
            padding: 10px;
        }

        .footer {
            position: fixed;
            bottom: 0;
            width: 100%;
        }

        .animate-hide {
            -webkit-transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) 2s;
            -moz-transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) 2s;
            -o-transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) 2s;
            transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) 2s;
            line-height:20px;
            opacity:1;
            padding:10px;
            border:1px solid black;
            background:white;
            position: absolute;
            left: 0;
        }

        .animate-hide.ng-hide {
            left: -100%;
            opacity:0;
            padding:0 10px;
        }

/*
side button
*/
        #hp-ctn-howItWorks-photos
        {
            bottom: 0;
            position:fixed;
            left: 0px;
            padding:0px;
            margin:0px;
            width:55px;
            height:160px;
            background:#FF931E;
            z-index:15;
            border-radius: 3px 0px 0px 3px;
        }

        #hp-ctn-howItWorks-photos img
        {
            margin: 15px 0px 45px 13px;
        }

        #hp-ctn-howItWorks-photos p
        {
            color: #fff;
            -moz-transform:rotate(-90deg);
            -ms-transform:rotate(-90deg);
            -o-transform:rotate(-90deg);
            -webkit-transform:rotate(-90deg);
        }

        #hp-ctn-howItWorks-table
        {
            bottom: 150px;
            position:fixed;
            left: 0px;
            padding:0px;
            margin:0px;
            width:55px;
            height:160px;
            background: #7599ff;
            z-index:15;
            border-radius: 3px 0px 0px 3px;
        }

        #hp-ctn-howItWorks-table img
        {
            margin: 15px 0px 40px 13px;
        }

        #hp-ctn-howItWorks-table p
        {
            color: #fff;
            -moz-transform:rotate(-90deg);
            -ms-transform:rotate(-90deg);
            -o-transform:rotate(-90deg);
            -webkit-transform:rotate(-90deg);
        }
    </style>
</head>
<body>


<div id="map"></div>


<div id="pano"></div>


<button class="btn btn-info" ng-click="editModeSwitch()">{{editButtonText}}</button>

<ul id="add_messages" ng-show="editMode">
    <p> Message: <input type="text" ng-model="message.text" style="width: 200px"/></p>
    <p> lat: <input type="text" ng-model="message.lat" style="width: 200px"/></p>
    <p> lng:<input type="text" ng-model="message.lng" style="width: 200px"/></p>
    <p> time: <input type="datetime" ng-model="message.time" style="width: 200px"/></p>
    <button ng-click="addMessage()">add</button>
</ul>


<div class="pre-scrollable" style="height: 800px">
    <div id="messages" style="margin: 100px" class="list-group" ng-repeat="message in messages">
        <a href="#" class="list-group-item active" ng-click="showMessageOnMap(message)">
            <h4 class="list-group-item-heading">{{message.text}}</h4>
            <p class="list-group-item-text">{{email}}</p>
            <p> {{message.latitude}}</p>
            <p> {{message.longitude}}</p>
            <p class="list-group-item-text">{{message.timestamp}}</p>
        </a>
    </div>
</div>


<!-- Load photos from AWS S3 - disabled, instead sync with Facebook photos
<td>
   <div id="status"></div>
    <il id="objects"></il>
    <ul id="rig">
        <li ng-repeat="photo in photos track by $index">
            <a class="rig-cell" href="#" ng-click="showPhotoOnMap($event)">
                <img class="rig-img" src="{{photo}}" style="width: 250px; height: 200px" >
                <span class="rig-overlay"></span>
                <span class="rig-text">show on map</span>
            </a>
        </li>
    </ul>
</td>
-->

<!-- id status used for AWS S3 status -->
<div id="status"></div>



<!-- side button photos-->

<div id="hp-ctn-howItWorks-table">
    <img src="../../assets/images/table_icon2.svg" width="40" height="40" />
    <p style="font-size:20px" ><b>Table</b></p>
</div>


<div id="hp-ctn-howItWorks-photos">
    <img src="../../assets/images/photos_icon.png" width="40" height="40" />
    <p style="font-size:20px" ><b>Photos</b></p>
</div>





<!-- new photo slider -->

<div  style="z-index: 1" ng-click="photosSlider=true" >LEFT</div>
<div  ng-click="photosSlider=false">RIGHT</div>


    <div class="footer" class='animate-hide'  ng-hide="photosSlider">
        <div class='slider' >
            <input checked='' name='thumbnail' type='radio' />
            <input name='thumbnail' type='radio' ng-repeat="photo in facebookPhotos track by $index" ng-style="{'background': 'url('+photo+')'}"/>
            <div class='images' style="background: url(https://fbcdn-sphotos-a-a.akamaihd.net/hphotos-ak-xfl1/t31.0-8/s720x720/13738130_253880684998589_991509330233210863_o.jpg);"></div>
        </div>
    </div>

{{photosSlider}}
</div>






<!--
<div id="photos" class="footer">
    <il id="objects"></il>
    <ul id="rig">
        <li ng-repeat="photo in facebookPhotos track by $index">
            <a class="rig-cell" href="#" ng-click="showPhotoOnMap($event)">
                <img class="rig-img" src="{{photo}}" style="width: 250px; height: 200px">
                <span class="rig-overlay"></span>
                <span class="rig-text">show on map</span>
            </a>
        </li>
    </ul>
</div>
-->

<div id="upload_photo" ng-show="editMode">
    <p>Upload photo or KML (googlemaps export file)</p>
    <input type="file" id="file-chooser" style="height: 40px; width: 240px"/>
    <p></p>
    <button id="upload-button">Upload to S3</button>
    <div id="results"></div>

</div>

<!-- Facebook albums -->

<div name="facebookSync">
    <label ng-repeat="album in facebookAlbums track by $index">{{album.albumName}}{{album.albumID}}
        <input type="checkbox" ng-model="facebookAlbums[$index].checkbox">
    </label><br/>
    <button ng-click="syncAlbums()">Sync</button>
</div>


<!--
<td>
    <ul id="facebookPhotos">
        <li ng-repeat="photo in facebookPhotos track by $index">

            <img class="rig-img" src="{{photo}}" style="width: 250px; height: 200px">

            <span class="rig-text">show on map</span>
            </a>
        </li>
    </ul>
</td>
-->
<!-- end facebook albums -->


<ul id="add_GPS_toPhoto" ng-show="editMode">
    <p> Image path: <input type="text" ng-model="image.path" style="width: 200px"/></p>
    <p> lat: <input type="text" ng-model="message.lat" style="width: 200px"/></p>
    <p> lng:<input type="text" ng-model="message.lng" style="width: 200px"/></p>
    <button id="addGPStoPhoto" ng-click="saveGPStoThisPhoto()">add</button>
    <div id="results_photo_gps"></div>
</ul>


<ul id="add_day" ng-show="editMode">
    <p> Trip Name: <input type="text" ng-model="trip.name" style="width: 200px"/></p>
    <p> Trip Description: <input type="text" ng-model="trip.description" style="width: 200px"/></p>
    <p> Trip start D:<input type="text" ng-model="trip.start_date" style="width: 200px"/></p>
    <p> Trip end D: <input type="datetime" ng-model="trip.end_date" style="width: 200px"/></p>
    <button ng-click="addDay()">add</button>
</ul>


</body>