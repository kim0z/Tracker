<!DOCTYPE html>
<head>


    <!--
    <link rel="stylesheet" href="assets/css/style_realtime.css">
    -->
    <link rel="stylesheet" type="text/css" href="../../assets/css/photoslider.css">

    <style type="text/css">
        #map {
            box-shadow: 3px 3px 10px gray;
            /* make Google map -> background*/
            height: 100%;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0;
            padding: 0;
            font-size: 0; /* Remember to change it back to normal font size if have captions */
            list-style: none;
            background-color: #000;
        }

        #messages {
            width: 300px;
            /*margin: 60px auto 0;*/
            padding: 5px;
            background: transparent;
            height: auto;
            opacity: .99; /* Set the opacity for a slightly transparent Google Form */
            color: white;
            position: initial; /*or fixed*/
            right: 0px;
        }

        #photos {
            z-index: 1; /* The z-index should be higher than Google Maps */
            width: 900px;
            /*margin: 60px auto 0;*/
            padding: 10px;
            background: transparent;
            height: auto;
            opacity: .99; /* Set the opacity for a slightly transparent Google Form */
            color: white;

            position: absolute; /*or fixed*/
            right: 50%;
        }

        .center {
            margin: auto;
            width: 50%;
            border: 3px solid green;
            padding: 10px;
        }

        .footer {
            position: fixed;
            bottom: 0;
            width: 91%;
            z-index: 1;
        }

        .animate-hide {
            -webkit-transition: all cubic-bezier(0.250, 0.460, 0.450, 0.940) 2s;
            -moz-transition: all cubic-bezier(0.250, 0.460, 0.450, 0.940) 2s;
            -o-transition: all cubic-bezier(0.250, 0.460, 0.450, 0.940) 2s;
            transition: all cubic-bezier(0.250, 0.460, 0.450, 0.940) 2s;
            line-height: 20px;
            opacity: 1;
            padding: 10px;
            border: 1px solid black;
            background: white;
            position: absolute;
            left: 0;
        }

        .animate-hide.ng-hide {
            left: -100%;
            opacity: 0;
            padding: 0 10px;
        }

        /*
        side button
        */
        #hp-ctn-howItWorks-photos {
            bottom: 0;
            position: fixed;
            left: 0px;
            padding: 0px;
            margin: 0px;
            width: 55px;
            height: 180px;
            background: #FF931E;
            z-index: 15;
            border-radius: 3px 0px 0px 3px;
        }

        #hp-ctn-howItWorks-photos img {
            margin: 15px 0px 45px 13px;
        }

        #hp-ctn-howItWorks-photos p {
            color: #fff;
            -moz-transform: rotate(-90deg);
            -ms-transform: rotate(-90deg);
            -o-transform: rotate(-90deg);
            -webkit-transform: rotate(-90deg);
        }

        #hp-ctn-howItWorks-table {
            bottom: 155px;
            position: fixed;
            left: 0px;
            padding: 0px;
            margin: 0px;
            width: 55px;
            height: 180px;
            background: #7599ff;
            z-index: 15;
            border-radius: 3px 0px 0px 3px;
        }

        #edit {
            bottom: 0px;
            position: fixed;
            right: 0px;
            padding: 0px;
            margin: 0px;
            width: 55px;
            height: 180px;
            background: #7599ff;
            z-index: 15;
            border-radius: 3px 0px 0px 3px;
        }

        #hp-ctn-howItWorks-table img {
            margin: 15px 0px 40px 13px;
        }

        #hp-ctn-howItWorks-table p {
            color: #fff;
            -moz-transform: rotate(-90deg);
            -ms-transform: rotate(-90deg);
            -o-transform: rotate(-90deg);
            -webkit-transform: rotate(-90deg);
        }

        .text-rotate {
            color: #fff;
            -moz-transform: rotate(-90deg);
            -ms-transform: rotate(-90deg);
            -o-transform: rotate(-90deg);
            -webkit-transform: rotate(-90deg);
        }

        /* Photo slider */
        #carousel img {
            display: block;
            opacity: .5;
            cursor: pointer;
        }

        #carousel .flex-active-slide img {
            opacity: 1;
            cursor: default;
        }

        .roundborder {
            border-radius: 25px;
            border: 2px solid #73AD21;
            padding: 20px;
            width: 400px;
            height: 250px;
        }

        .roundborderlong {
            border-radius: 25px;
            border: 2px solid #73AD21;
            padding: 20px;
            width: 400px;
            height: 400px;
        }
    </style>
</head>
<body>


<div id="map"></div>


<div id="pano"></div>

<div id="edit" ng-click="editModeSwitch()">
    <img src="../../assets/images/edit.gif" width="40" height="40"/>
    <p style="width: 100px; height: 60px; font-size: 20px" class="text-rotate">{{editButtonText}}</p>
</div>


<div style="max-height: 50%; width: 320px; float: right;">
    <div id="messages" class="list-group" ng-repeat="message in messages">
        <a href="#" class="list-group-item active" ng-click="showMessageOnMap(message)">
            <h4 class="list-group-item-heading">{{message.text}}</h4>
            <p class="list-group-item-text">{{email}}</p>
            <p> {{message.latitude}}</p>
            <p> {{message.longitude}}</p>
            <p class="list-group-item-text">{{message.timestamp}}</p>
        </a>
    </div>
</div>


<!-- Load photos from AWS S3 - disabled, instead sync with Facebook photos
<td>
   <div id="status"></div>
    <il id="objects"></il>
    <ul id="rig">
        <li ng-repeat="photo in photos track by $index">
            <a class="rig-cell" href="#" ng-click="showPhotoOnMap($event)">
                <img class="rig-img" src="{{photo}}" style="width: 250px; height: 200px" >
                <span class="rig-overlay"></span>
                <span class="rig-text">show on map</span>
            </a>
        </li>
    </ul>
</td>
-->

<!-- id status used for AWS S3 status -->
<div id="status"></div>


<!-- side button photos-->
<div id="hp-ctn-howItWorks-table" ng-click="tableSlider = !tableSlider">
    <img src="../../assets/images/table_icon2.svg" width="40" height="40"/>
    <p class="text-rotate" style="font-size:20px">Table</p>
</div>


<div id="hp-ctn-howItWorks-photos" ng-click="photosSlider = !photosSlider">
    <img src="../../assets/images/photos_icon.png" width="40" height="40"/>
    <p class="text-rotate" style="font-size:20px">Photos</p>
</div>


<!-- new photo slider -->
<!--
<div style="margin-left: 55px" class="footer" class='animate-hide' ng-hide="photosSlider">
    <div class='slider'>
        <input checked='' name='thumbnail' type='radio'/>
        <input name='thumbnail' type='radio' ng-repeat="photo in facebookPhotos track by $index"
               ng-style="{'background': 'url('+photo+')'}"/>
        <div class='images'
             style="background: url(https://fbcdn-sphotos-a-a.akamaihd.net/hphotos-ak-xfl1/t31.0-8/s720x720/13738130_253880684998589_991509330233210863_o.jpg);"></div>
    </div>
</div>
{{photosSlider}}
</div>
-->


<!--
<div id="container" ng-if="facebookImagesReady" class="footer" class='animate-hide' ng-hide="photosSlider">
    <div class="col-sm-12">
         <flex-slider slider-id="slider" flex-slide="image in prod.imagePaths" animation="fade" animation-loop="false" sync="#carousel" slideshow="false" control-nav="false" init-delay="100">
            <li>
                <img ng-src="{{image.custom}}" style="width: 600px; height: 600px">
            </li>
        </flex-slider>
    </div>
    <div class="col-sm-12">

         <flex-slider slider-id="carousel" flex-slide="image in prod.imagePaths track by $index" animation="slide" animation-loop="false" item-width="210" item-margin="5" as-nav-for="#slider" slideshow="false" control-nav="false">
            <li>
                <img ng-src="{{image.thumbnail}}" style="width: 100px; height: 100px">
            </li>
        </flex-slider> 
    </div>
</div>
-->


<div class="footer" class='animate-hide' style="height: 300px; margin-left: 59px; margin-right: 59px"
     ng-hide="photosSlider" ng-if="facebookImagesReady">
    <flex-slider slide="item in items track by $index" animation="slide" item-width="200" item-height="200">
        <li>
            <img ng-src="{{item.img}}"/>
            {{item.name}}
        </li>
    </flex-slider>

    <!--	  <flex-slider slide="item in items track by $index1" animation="slide" item-width="110">
              <li>
                <img ng-src="{{item.img}}"/>
                      {{item.name}}
            </li>
          </flex-slider>-->

    <!--
    <a href="javascript:;" data-ng-click="update()">Update List</a>
    <ul>
        <li data-ng-repeat="item in items track by $index">{{item.name}}</li>
    </ul>
    -->
</div>


<div style="margin-left: 55px" class="footer" class='animate-hide ' ng-hide="tableSlider">


    <table style="width:100%" class="table table-bordered">
         
        <tr>
            <th> Activity / Day</th>
               
            <td ng-hide="editMode" ng-repeat="day in table">{{Utils.keys(day)[0]}}</td>
            <td ng-show="editMode" ng-repeat="day in table">
                <input value="{{Utils.keys(day)[0]}}">
            </td>
             
        </tr>
        <tr>
            <th>Date</th>
            <td ng-hide="editMode" ng-repeat="day in table">{{day[Utils.keys(day)[0]].date}}</td>
            <td ng-show="editMode" ng-repeat="day in table">
                <input value="{{day[Utils.keys(day)[0]].date}}">
            </td>
        </tr>
        <tr>
            <th>Flight</th>
            <td ng-hide="editMode" ng-repeat="day in table">{{day[Utils.keys(day)[0]].flight}}</td>
            <td ng-show="editMode" ng-repeat="day in table">
                <input value="{{day[Utils.keys(day)[0]].flight}}">
            </td>
        </tr>
        <tr>
            <th>Hotel</th>
            <td ng-hide="editMode" ng-repeat="day in table">{{day[Utils.keys(day)[0]].hotel}}</td>
            <td ng-show="editMode" ng-repeat="day in table">
                <input value="{{day[Utils.keys(day)[0]].hotel}}">
            </td>
        </tr>
        <tr>
            <th>Car</th>
            <td ng-hide="editMode" ng-repeat="day in table">{{day[Utils.keys(day)[0]].car}}</td>
            <td ng-show="editMode" ng-repeat="day in table">
                <input value="{{day[Utils.keys(day)[0]].car}}">
            </td>
        </tr>
        <tr>
            <th>Action1</th>
            <td ng-hide="editMode" ng-repeat="day in table">{{day[Utils.keys(day)[0]].action1}}</td>
            <td ng-show="editMode" ng-repeat="day in table">
                <input value="{{day[Utils.keys(day)[0]].action1}}">
            </td>
        </tr>
        <tr>
            <th>Action2</th>
            <td ng-hide="editMode" ng-repeat="day in table">{{day[Utils.keys(day)[0]].action2}}</td>
            <td ng-show="editMode" ng-repeat="day in table">
                <input value="{{day[Utils.keys(day)[0]].action2}}">
            </td>
        </tr>
        <tr>
            <th>Expense</th>
            <td ng-hide="editMode" ng-repeat="day in table">{{day[Utils.keys(day)[0]].expense}}</td>
            <td ng-show="editMode" ng-repeat="day in table">
                <input value="{{day[Utils.keys(day)[0]].expense}}">
            </td>
        </tr>
    </table>

</div>

<!--
<div id="photos" class="footer">
    <il id="objects"></il>
    <ul id="rig">
        <li ng-repeat="photo in facebookPhotos track by $index">
            <a class="rig-cell" href="#" ng-click="showPhotoOnMap($event)">
                <img class="rig-img" src="{{photo}}" style="width: 250px; height: 200px">
                <span class="rig-overlay"></span>
                <span class="rig-text">show on map</span>
            </a>
        </li>
    </ul>
</div>
-->


<!-- Facebook albums -->

<div name="facebookSync">
    <label ng-repeat="album in facebookAlbums track by $index">{{album.albumName}}{{album.albumID}}
        <input type="checkbox" ng-model="facebookAlbums[$index].checkbox">
    </label><br/>
    <button ng-click="syncAlbums()">Sync</button>
</div>


<!--
<td>
    <ul id="facebookPhotos">
        <li ng-repeat="photo in facebookPhotos track by $index">

            <img class="rig-img" src="{{photo}}" style="width: 250px; height: 200px">

            <span class="rig-text">show on map</span>
            </a>
        </li>
    </ul>
</td>
-->
<!-- end facebook albums -->


<!-- ######################################################################### -->
<!-- Edit Mode -->
<!-- ######################################################################### -->
<div>
    <div id="upload_photo" ng-show="editMode" style="z-index: 16; position: relative" class="roundborder">
        <p>Upload photo or KML (googlemaps export file)</p>
        <input type="file" id="file-chooser" style="height: 40px; width: 240px"/>
        <p></p>
        <button id="upload-button">Upload to S3</button>
        <div id="results"></div>

    </div>

    <div id="add_messages" ng-show="editMode" style="z-index: 16; position: relative" class="roundborder">
        <p>Add message</p>
        <ul>
            <p> Message: <input type="text" ng-model="message.text" style="width: 200px"/></p>
            <p> lat: <input type="text" ng-model="message.lat" style="width: 200px"/></p>
            <p> lng:<input type="text" ng-model="message.lng" style="width: 200px"/></p>
            <p> time: <input type="datetime" ng-model="message.time" style="width: 200px"/></p>
            <button ng-click="addMessage()">add</button>
        </ul>
    </div>

    <div id="add_GPS_toPhoto" ng-show="editMode" style="z-index: 16; position: relative" class="roundborder">
        <p>Add GPS to photo</p>
        <ul>
            <p> Image path: <input type="text" ng-model="image.path" style="width: 200px"/></p>
            <p> lat: <input type="text" ng-model="message.lat" style="width: 200px"/></p>
            <p> lng:<input type="text" ng-model="message.lng" style="width: 200px"/></p>
            <button id="addGPStoPhoto" ng-click="saveGPStoThisPhoto()">add</button>
            <div id="results_photo_gps"></div>
        </ul>
    </div>


    <div ng-show="editMode" style="z-index: 16; position: relative;" class="roundborderlong">
        <p>Add Day</p>
        <ul id="add_day">
            <p> Day Number: <input type="text" ng-model="day.dayNumber" style="width: 200px"/></p>
            <p> Date: <input type="text" ng-model="day.date" style="width: 200px"/></p>
            <p> Flight:<input type="text" ng-model="day.flight" style="width: 200px"/></p>
            <p> Hotel: <input type="datetime" ng-model="day.hotel" style="width: 200px"/></p>
            <p> Car: <input type="datetime" ng-model="day.car" style="width: 200px"/></p>
            <p> Action1: <input type="datetime" ng-model="day.action1" style="width: 200px"/></p>
            <p> Action2: <input type="datetime" ng-model="day.action2" style="width: 200px"/></p>
            <p> Expense: <input type="datetime" ng-model="day.expense" style="width: 200px"/></p>
            <button ng-click="addDay()">add</button>
        </ul>

    </div>

</div>



</body>